# 数组指针

> ![image-20230116163435659](E:\Typora\Image\image-20230116163435659.png)
>
> ![image-20230116164656412](E:\Typora\Image\image-20230116164656412.png)
>
> **数组指针是指向数组的指针，其可以存放数组的地址。**

## 数组的地址

> ​	<img src="E:\Typora\Image\image-20230116164903843.png" alt="image-20230116164903843" style="zoom:50%;" />

如上图注释所示，&arr（即对数组名进行取地址）取得的地址才是数组的地址。

现在如果要将数组的地址存放起来，**需要一个指针变量**，比如

> ​	<img src="E:\Typora\Image\image-20230116165111071.png" alt="image-20230116165111071" style="zoom:50%;" />
>
> 这里我们用一个整型指针来存放数组的地址。

这是不允许的，因为整型的指针不能存放一个数组的地址。

再比如下面这种方式

> ​	<img src="E:\Typora\Image\image-20230116165220042.png" alt="image-20230116165220042" style="zoom:50%;" />
>
> 此时的p并不表明是个指针，而是一个数组，即p表示的是一个指针数组。
>
> 这里的p之所以是个数组而不是一个指针，是因为p后面的[]的结合优先级比*高，所以p先和[]结合，它就表示的是一个数组，因此就不是一个指针了。

这种方式也是不允许的，因为此时的p变成了一个数组，而我们要的是一个指针变量......

**那么我们到底要如何声明一个数组指针呢？——在上图中`int* p[10] = &arr;`中p先和[]结合时，p就成了数组；那如果p先和*结合，p不就成了指针吗？——答案是肯定的，就是这样的！**

于是我们这样做：

> ​	<img src="E:\Typora\Image\image-20230116170232537.png" alt="image-20230116170232537" style="zoom:50%;" />
>
> 用括号将p与*二者括起来，这时p就可以与\*优先结合了，于是p就成了一个指针，并且在`int(*p)[10] = &arr;`中如果我们去掉(\*p)，就剩下int[10]，这是一个数组——所以这里就说明了p是一个指针，并且其指向一个数组，并且这个数组有10个元素，每个元素是int类型

**所以此时的p就是一个数组指针，它用来存放数组的地址。**

> <img src="E:\Typora\Image\image-20230116170736923.png" alt="image-20230116170736923" style="zoom:67%;" />

## 小辨析

> ​	<img src="E:\Typora\Image\image-20230116170852360.png" alt="image-20230116170852360" style="zoom:50%;" />

这个案例中p1是一个指针数组，而p2是一个指向10个元素均为int类型的数组指针

## 题目：补充完整数组指针的定义

此部分内容于视频[约10:00~20:00处](https://www.bilibili.com/video/BV1oi4y1g7CF/?p=35&spm_id_from=333.1007.top_right_bar_window_history.content.click&vd_source=b8a7d9f6d396acb27e811371a96d6e9a)

> ​	<img src="E:\Typora\Image\image-20230117152342050.png" alt="image-20230117152342050" style="zoom:50%;" />

对于上述案例，请读者补充完整数组指针pa的定义：

> 1. 首先必须保证pa是个指针，所以pa定义时需要在其前面加上一个\*号，并且为了防止后续加上[]时与[]结合，我们还需要加一个括号()，所以最终是这样的(*pa)
> 2. 由于所指向的数组有5个元素，所以(*pa)后面需要跟一个[5]，即(\*pa)[5]。这个[5]表面pa能指向的数组是5个元素的数组
> 3. 由于pa所指向的数组的元素是char\*，所以(*pa)[5]的前面要加一个char\*，此时就变成了char\* (\*pa)[5]。这里char\*表示pa所指向的数组的元素类型是char\*

以上步骤的示意图如下

> ​	<img src="E:\Typora\Image\image-20230117153221299.png" alt="image-20230117153221299" style="zoom:50%;" />

如果上述的步骤读者能够明确，可以再尝试一道：

> ​	<img src="E:\Typora\Image\image-20230117153303828.png" alt="image-20230117153303828" style="zoom:50%;" />

其正确答案如下

> ​	<img src="E:\Typora\Image\image-20230117153341216.png" alt="image-20230117153341216" style="zoom:50%;" />
